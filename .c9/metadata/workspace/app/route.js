{"filter":false,"title":"route.js","tooltip":"/app/route.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":17}},"text":" // app/routes.js"},{"action":"insertText","range":{"start":{"row":0,"column":17},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":28,"column":0}},"lines":["","var auth = require('../config/auth.js');","var https = require('https');","module.exports = function(app) {","\t\t// route for home page","\tvar redirectURI = 'https://www.facebook.com/dialog/oauth?client_id=1474040722849704&redirect_uri=http://example.com:8080/auth/facebook/callback';","\tapp.get('/auth/facebook', function(req, res) {","\t\tres.redirect(redirectURI); ","\t});","","\tapp.get('/auth/facebook/callback', function(req,res){","\t\tvar getURL = 'https://graph.facebook.com/oauth/access_token?client_id='+auth.facebookAuth.clientID+'&redirect_uri='+redirectURI+'&client_secret='+auth.facebookAuth.clientSecret+'&code='+req.query.code;","\t\tconsole.log(getURL);","\t\thttps.get(getURL, function(res) {","\t\t  console.log(\"Got response: \" + res.access_token);","\t\t  res.json(\"Got response: \" + res);","\t\t}).on('error', function(e) {","\t\t  console.log(\"Got error: \" + e.message);","\t\t  res.json(\"Got error: \" + e.message);","\t\t});","\t});","","\tapp.get('/', function(req,res){","\t\tres.sendfile('./public/views/login.html');","\t})","}",""]},{"action":"insertText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":1}},"text":"\t"}]}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":19,"column":12},"end":{"row":19,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":4,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1411830632562,"hash":"ca78c740d873f642152519becf2adae48ef19480"}